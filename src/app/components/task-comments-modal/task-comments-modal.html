<div class="rounded-xl overflow-scroll bg-white max-h-[500] scrollbar-hidden">
  <div class="p-4 flex gap-1">
    <img src="images/icon-task-star.svg" alt="" (click)="closeModal()"/>
    <h1 class="font-semibold text-lg">comentar tarefa</h1>
    <img (click)="closeModal()" class="ml-auto cursor-pointer" src="images/icon-close.svg" alt="" />
  </div>
  <div class="p-4 border-t border-[#d1d5db]">
    <h1 class="font-semibold text-lg mb-4">{{_task.name}}</h1>
    <p class="font-semibold text-sm mb-2">Descrição</p>
    <p class="font-normal text-base text-[#374151]">
      {{_task.description}}
    </p>
  </div>
  <div class="p-4">
    <div class="bg-[#f3f4f6] p-5 rounded-xl flex flex-col gap-5">
      <div>
        <p class="font-bold text-sm">Comentários</p>
      </div>
      <div class="flex items-start gap-2">
        <div class="flex flex-col w-full">
          <input
            #commentInput
            class="rounded-lg border border-[#d1d5db] p-3 bg-white flex-1 text-sm font-light"
            type="text"
            placeholder="Adicione um comentário"
            [formControl]="commentControl"
          />
        </div>
        <button
          class="{{
            `py-3 px-4 rounded-xl text-sm font-semibold text-white cursor-pointer
            ${commentControl.invalid ? 'bg-[#D7D8D8]' : 'bg-[#2A89EF] active:translate-y-1 transition-transform duration-75 shadow-md shadow-blue-500/50 '}
          `
          }}"
          [disabled]="commentControl.invalid"
          (click)="onAddComment()"
        >
          Adicionar
        </button>
      </div>
      <div class="flex flex-col gap-5 overflow-scroll max-h-44 scrollbar-hidden">
        @for (comment of _task.comments; track comment.id; let last = $last) {
          <!-- Comentário -->
          <div
            class="{{
              `flex flex-col gap-3
              ${!last ? 'border-b border-[#d1d5db]' : ''}`
            }}"
          >
            <div>
              <p class="font-light text-sm text-[#374151]">{{ comment.description }}</p>
            </div>
            <div
              class="{{
                `flex gap-4
                ${!last ? 'mb-3' : ''}`
              }}"
            >
              <p class="font-normal text-xs text-[#9ca3af]">Comentado a 10 min atrás</p>
              <p class="font-semibold text-xs underline underline-offset-2 cursor-pointer" (click)="onRemoveModal(comment.id)">
                Apagar
              </p>
            </div>
          </div>
          <!-- Final Comentário -->
        }
      </div>
    </div>
  </div>
</div>
